@@ It could easily be updated to work with Myrddin's @cron instead of an @wait loop.

@create fields=10
@Desc fields=The fields are currently planted with [u(fun_command,%vp)].%r%t[u(status_water)]%r%tThere are %ve weeds.%r%t[u(status_harvest)]%rThere have been %vc units of food grown since last harvest, for a daily average of [div(%vc,%vd)]. Available commands are 'water fields' and 'weed fields'.
&NOTE fields=Experimental simulated field. Water steadily decreases, weeds increase. Players can add water or remove weeds. The increase in weeds is proportinal to the amount of water currently in the fields.
@Fail fields=And how would you do that?
@VA fields=1
@VE fields=0
&STATUS_WATER fields=[u(water_[switch([lte(%va,5)][gt(%va,20)],10,Dry,00,Wet,Flooded)])]
&LOOP_WATER fields=@switch [gt(%va,1)]=1,{@va me=[sub(%va,1)];@emit The heat dries out the fields;@wait 16000=@tr me/loop_water},@wait 16000=tr me/loop_water
&CMD_WATER fields=$water fields:@emit %N hauls a bucket of water from the well and waters the fields.;@va me=[add(%va,1)]
&CMD_WEED fields=$weed fields:@emit %N searches for weeds.;@switch [eq(%ve,0)]=1,{@emit %N looks for weeds but finds none.},{@ve me=[sub(%ve,1)];@emit %N finds a weed and yanks it up.}
&WATER_WET fields=The fields are watered, the soil dark and fertile.
&WATER_DRY fields=The fields are dry and dusty, the plants wilting.
&WATER_FLOODED fields=The fields are flooded with water.
&STATUS_HARVEST fields=[switch([lte(%va,5)][gte(%va,20)][gte(%ve,15)],000,The harvest is thriving.,001,The harvest is being choked by weeds.,010,The harvest is drowning.,011,The harvest is drowning and choked by weeds.,100,The harvest is drying out.,101,The harvest is wilted and choked by weeds,Bugs have infested the fields!)]
&LOOP_CROPS fields=@vd me=[add(%vd,1)];[setq(0,[sub(%va,%ve)])];@switch [lte(0,[r(0)])]=1,@vc me=[add(%vc,[r(0)])];@wait 86000=@tr me/loop_crops
@VC fields=0
@VD fields=0
@Startup fields=@tr me/loop_water;@tr me/loop_weed;@tr me/loop_crops
&NOTE_UNITS fields=@va=water,@ve=weeds,@vc=crops,@vd=Days since harvest.
@Use fields=Use 'water fields' to add water, and 'weed fields' to remove weeds. 'plant <item>' will plant the item in the fields. (no brackets :)
@Infilter fields=*has left.,*has arrived.
@Listen fields=*
@Prefix fields=In the fields,
@Inprefix fields=Beyond the fields,
&CMD_PLANT fields=$plant *:@vp me=%vp %0;@emit %N plants %0 in the fields.
&FUN_COMMAND fields=[switch(words(%0,%1),0,,1,%0,2,first(%0,%1) and [rest(%0,%1)],setq(9,revwords(%0,%1))[setq(8,revwords(rest(rest(%q9,%1),%1),%1))][iter(%q8,##%,,%1)] [first(%q9,%1)] and [first(rest(%q9,%1),%1)])]
@VP fields=roots grain rutabagas parsely sage rosemary thyme daisies weeds bees
}